@startuml
title Database tables

interface osmObject {
 id : integer
 action : string=[null,"modify"]
 timestamp : string
 uid : string
 username : string
 visible : boolean
 version : string
 changeset : string
 orignal : boolean = false
}

class Relation {
 +id : integer
}

class Member {
 +relationid : integer
 ref : integer
 type : String = "way"
 role : String
}

class Way {
 +id : integer
 geom : GEOMETRY(POLYGON, 4612)
}

class Nd {
 wayid : integer
 ref : integer
}

class Node {
 +id : integer
}

class Tag {
 +id : integer
 key : string
 value : stringã€€
}

osmObject <|-- Relation
osmObject <|-- Way
osmObject <|-- Node

Relation "*" - "*" Way
(Relation, Way) .. Member : [Relation.id=Member.relationid]\n[Way.id=Member.ref] 

Way "2..*" - "1..2" Node
(Way, Node) .. Nd : [Way.id=Nd.wayid]\n[Node.id=Nd.ref]

Relation "*" -- "1" Tag : [Relation.id=Tag.id]
Way "*" -- "1" Tag : [Way.id=Tag.id]
@enduml